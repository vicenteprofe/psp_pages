<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.24">
    <meta name="theme-color" content="#3eaf7c"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black"><link rel="icon" href="/psp_pages/psp_favicon.png"><title>1.1 Processes, programs, threads | Process and Service Programming</title><meta name="description" content="2nd DAM PSP Module">
    <link rel="preload" href="/psp_pages/assets/js/runtime~app.8dbcdb2a.js" as="script"><link rel="preload" href="/psp_pages/assets/css/styles.3e2f56cc.css" as="style"><link rel="preload" href="/psp_pages/assets/js/812.63785eb3.js" as="script"><link rel="preload" href="/psp_pages/assets/js/app.e91e9b90.js" as="script">
    <link rel="stylesheet" href="/psp_pages/assets/css/styles.3e2f56cc.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/psp_pages/en/" class=""><img class="logo" src="/psp_pages/LogoIES.png" alt="Process and Service Programming"><span class="site-name can-hide">Process and Service Programming</span></a></span><div class="navbar-links-wrapper" style=""><!--[--><!--]--><nav class="navbar-links can-hide"><!--[--><div class="navbar-links-item"><a class="nav-link external" href="https://aules.edu.gva.es/fp/" rel="noopener noreferrer" target="_blank" aria-label="Aules FP"><!--[--><!--]--> Aules FP <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">Open in new window</span><!--]--></span><!--[--><!--]--></a></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="Course Index"><span class="title">Course Index</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="Course Index"><span class="title">Course Index</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><a href="/psp_pages/en/unit1/" class="nav-link router-link-active" aria-label="Unit 1 - Introduction to concurrent programming"><!--[--><!--]--> Unit 1 - Introduction to concurrent programming <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="Languages"><span class="title">Languages</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="Languages"><span class="title">Languages</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><a aria-current="page" href="/psp_pages/en/unit1/process.html" class="router-link-active router-link-exact-active nav-link router-link-active" aria-label="English"><!--[--><!--]--> English <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/psp_pages/es/unit1/process.html" class="nav-link" aria-label="Castellano"><!--[--><!--]--> Castellano <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-links-item"><a class="nav-link external" href="https://github.com/psp2dam/apuntes_psp" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">Open in new window</span><!--]--></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-dark-button" title="toggle dark mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><div class="sidebar-mask"></div><aside class="sidebar"><nav class="navbar-links"><!--[--><div class="navbar-links-item"><a class="nav-link external" href="https://aules.edu.gva.es/fp/" rel="noopener noreferrer" target="_blank" aria-label="Aules FP"><!--[--><!--]--> Aules FP <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">Open in new window</span><!--]--></span><!--[--><!--]--></a></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="Course Index"><span class="title">Course Index</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="Course Index"><span class="title">Course Index</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><a href="/psp_pages/en/unit1/" class="nav-link router-link-active" aria-label="Unit 1 - Introduction to concurrent programming"><!--[--><!--]--> Unit 1 - Introduction to concurrent programming <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="Languages"><span class="title">Languages</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="Languages"><span class="title">Languages</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><a aria-current="page" href="/psp_pages/en/unit1/process.html" class="router-link-active router-link-exact-active nav-link router-link-active" aria-label="English"><!--[--><!--]--> English <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/psp_pages/es/unit1/process.html" class="nav-link" aria-label="Castellano"><!--[--><!--]--> Castellano <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-links-item"><a class="nav-link external" href="https://github.com/psp2dam/apuntes_psp" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">Open in new window</span><!--]--></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-links"><!--[--><!--[--><p class="sidebar-heading sidebar-item active">Unit 1 - Introduction to concurrent programming</p><ul class=""><li><!--[--><a href="/psp_pages/en/unit1/" class="nav-link router-link-active sidebar-item" aria-label="1 Introduction"><!--[--><!--]--> 1 Introduction <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/psp_pages/en/unit1/process.html" class="router-link-active router-link-exact-active nav-link router-link-active sidebar-item active" aria-label="1.1 Processes, programs, threads"><!--[--><!--]--> 1.1 Processes, programs, threads <!--[--><!--]--></a><ul class="sidebar-sub-items"><li><!--[--><a aria-current="page" href="/psp_pages/en/unit1/process.html#_1-1-1-processes-and-programs" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="1.1.1. Processes and programs"><!--[--><!--]--> 1.1.1. Processes and programs <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/psp_pages/en/unit1/process.html#_1-1-2-concurrent-programming" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="1.1.2. Concurrent programming"><!--[--><!--]--> 1.1.2. Concurrent programming <!--[--><!--]--></a><ul class="sidebar-sub-items"><li><!--[--><a aria-current="page" href="/psp_pages/en/unit1/process.html#what-for" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="What for?"><!--[--><!--]--> What for? <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/psp_pages/en/unit1/process.html#process-communication-and-synchronization" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="Process communication and synchronization"><!--[--><!--]--> Process communication and synchronization <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--></li><li><!--[--><a aria-current="page" href="/psp_pages/en/unit1/process.html#_1-1-3-services-and-threads" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="1.1.3. Services and threads"><!--[--><!--]--> 1.1.3. Services and threads <!--[--><!--]--></a><ul class="sidebar-sub-items"><li><!--[--><a aria-current="page" href="/psp_pages/en/unit1/process.html#sequential-program-von-newmann-architecture" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="Sequential program (Von Newmann architecture)"><!--[--><!--]--> Sequential program (Von Newmann architecture) <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/psp_pages/en/unit1/process.html#concurrent-program" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="Concurrent program"><!--[--><!--]--> Concurrent program <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/psp_pages/en/unit1/process.html#threads-vs-processes" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="Threads vs processes"><!--[--><!--]--> Threads vs processes <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--></li></ul><!--]--></li><li><!--[--><a href="/psp_pages/en/unit1/concurrency.html" class="nav-link sidebar-item" aria-label="1.2 Concurrency"><!--[--><!--]--> 1.2 Concurrency <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/psp_pages/en/unit1/operatingsystem.html" class="nav-link sidebar-item" aria-label="1.3 Processes in the OS"><!--[--><!--]--> 1.3 Processes in the OS <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--><!--]--></ul><!--[--><!--]--></aside><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><div true class="downloadLink" align="right"><a href="/psp_pages/pdf/1.1 Processes, programs, threads.pdf" download><img src="/psp_pages/images/download-pdf.png" title="download as PDF" alt="download PDF" height="50"></a><a href="/psp_pages/pdf/1.1 Processes, programs, threads.pdf" target="_blank"><img src="/psp_pages/images/open-pdf.png" title="open as PDF" alt="open PDF" height="50"></a></div><div class="documentcover" align="center"><img src="/psp_pages/images/LogoPSP_mini_en.png" alt="PSP Logo"><h1>1.1. Processes, programs, threads</h1><h2></h2><img src="/psp_pages/LogoIES.png" alt="IES Doctor Balmis Logo" style="padding:2cm;"><div class="cclicense" align="center"><p xmlns:cc="http://creativecommons.org/ns#" xmlns:dct="http://purl.org/dc/terms/"><a property="dct:title" rel="cc:attributionURL" href="https://psp2dam.github.io/psp_sources">PSP class notes</a> by <span property="cc:attributionName">Vicente Martínez</span> is licensed under <a href="http://creativecommons.org/licenses/by-nc-sa/4.0/?ref=chooser-v1" target="_blank" rel="license noopener noreferrer" style="display:inline-block;"> CC BY-NC-SA 4.0<img style="height:22px!important;margin-left:3px;vertical-align:text-bottom;" src="https://mirrors.creativecommons.org/presskit/icons/cc.svg?ref=chooser-v1"><img style="height:22px!important;margin-left:3px;vertical-align:text-bottom;" src="https://mirrors.creativecommons.org/presskit/icons/by.svg?ref=chooser-v1"><img style="height:22px!important;margin-left:3px;vertical-align:text-bottom;" src="https://mirrors.creativecommons.org/presskit/icons/nc.svg?ref=chooser-v1"><img style="height:22px!important;margin-left:3px;vertical-align:text-bottom;" src="https://mirrors.creativecommons.org/presskit/icons/sa.svg?ref=chooser-v1"></a></p></div><div class="pagebreak"></div></div><h1 id="_1-1-processes-programs-threads" tabindex="-1">1.1. Processes, programs, threads</h1><nav class="table-of-contents"><ul><li><a aria-current="page" href="/psp_pages/en/unit1/process.html#_1-1-1-processes-and-programs" class="router-link-active router-link-exact-active">1.1.1. Processes and programs</a></li><li><a aria-current="page" href="/psp_pages/en/unit1/process.html#_1-1-2-concurrent-programming" class="router-link-active router-link-exact-active">1.1.2. Concurrent programming</a><ul><li><a aria-current="page" href="/psp_pages/en/unit1/process.html#what-for" class="router-link-active router-link-exact-active">What for?</a></li><li><a aria-current="page" href="/psp_pages/en/unit1/process.html#process-communication-and-synchronization" class="router-link-active router-link-exact-active">Process communication and synchronization</a></li></ul></li><li><a aria-current="page" href="/psp_pages/en/unit1/process.html#_1-1-3-services-and-threads" class="router-link-active router-link-exact-active">1.1.3. Services and threads</a><ul><li><a aria-current="page" href="/psp_pages/en/unit1/process.html#sequential-program-von-newmann-architecture" class="router-link-active router-link-exact-active">Sequential program (Von Newmann architecture)</a></li><li><a aria-current="page" href="/psp_pages/en/unit1/process.html#concurrent-program" class="router-link-active router-link-exact-active">Concurrent program</a></li><li><a aria-current="page" href="/psp_pages/en/unit1/process.html#threads-vs-processes" class="router-link-active router-link-exact-active">Threads vs processes</a></li></ul></li></ul></nav><h2 id="_1-1-1-processes-and-programs" tabindex="-1">1.1.1. Processes and programs</h2><p>A program and a process are related terms. A <code>program</code> is a group of instructions to carry out a specified task with some input data.</p><div class="custom-container tip"><p class="custom-container-title">Black box</p><p>Black-box testing is a method of software testing that examines the functionality of an application without peering into its internal structures or workings, just by setting some input data set and checking if the output data set meets the expected one.</p></div><p>While a <code>process</code> can be described as an instance of a program running on a computer. A program becomes a process when loaded into memory and thus is an active entity While a program is considered to be a passive one.</p><p>A process has a high resource requirement, it needs resources like CPU, memory address, I/O during its lifetime. It has its own control block called Process Control Block where relevant information as program counter, registers, stack, <em>excutable code</em>, state, ... and all it needs to be run by the OS is stored.</p><p><img src="/psp_pages/assets/img/proceso_memoria.4512b06c.png" alt="Process in memory"></p><p>Each process is an independent entity. There exist a many-to-one relationship between process and program, which means one program can be invoked multiple times getting several processes in memory running the same copy of the program.</p><h2 id="_1-1-2-concurrent-programming" tabindex="-1">1.1.2. Concurrent programming</h2><p>In computer science, concurrency is the ability of different parts or units of a program to be executed out-of-order or at the same time simultaneously.</p><p>This allows for <code>parallel</code> execution of the concurrent units, which can significantly improve overall speed of the execution in <code>multi-processor and multi-core</code> machines.</p><p>The concept of concurrent computing is frequently confused with the related but distinct concept of parallel computing, although both can be described as <em>multiple processes executing during the same period of time</em>.</p><ul><li>In parallel computing, execution occurs at the same physical instant: for example, on separate processors of a multi-processor machine, with the goal of speeding up computations.</li><li>This parallel computing is impossible on a <code>one-core single processor</code>, as only one computation can occur at any instant (during any single clock cycle). By contrast, concurrent computing consists of process lifetimes overlapping, but execution need not happen at the same instant. The goal here is to model processes in the outside world that happen concurrently using <code>multitask</code>.</li></ul><p><img src="/psp_pages/assets/img/concurrencia_vs_paralelismo.bf602db6.jpg" alt="Concurrency vs parallelism"></p><div class="custom-container tip"><p class="custom-container-title">Concurrency</p><p>By and large, both previously described scenarios are gonna be referred to as <strong>concurrency</strong>.</p></div><h3 id="what-for" tabindex="-1">What for?</h3><p>The Real World is Massively Complex</p><ul><li>In the natural world, many complex, interrelated events are happening at the same time, yet within a temporal sequence.</li><li>Compared to serial computing, parallel computing is much better suited for modeling, simulating and understanding complex, real world phenomena.</li></ul><p>Imagine modeling these serially: climate change, rush hour traffic, weather forecast, galaxy formation, ...</p><p>Main Reasons for Using Parallel Programming</p><ul><li>Save time and money. In theory, throwing more resources at a task will shorten its time to completion, with potential cost savings. <ul><li>Parallel computers can be built from cheap, commodity components.</li></ul></li><li>Solve larger and more complex problems. Many problems are so large and/or complex that it is impractical or impossible to solve them using a serial program, especially given limited computer memory. <ul><li><em>Grand Challenge Problems</em> (en.wikipedia.org/wiki/Grand_Challenge) requiring petaflops and petabytes of computing resources.</li><li>Web search engines/databases processing millions of transactions every second</li></ul></li><li>Take advantage of non-local resources. Using compute resources on a wide area network, or even the Internet when local compute resources are scarce or insufficient. <ul><li><em>SETI@home</em> (setiathome.berkeley.edu) has over 1.7 million users in nearly every country in the world. (May, 2018).</li></ul></li><li>Make better use of underlying parallel hardware. Modern computers, even laptops, are parallel in architecture with multiple processors/cores. <ul><li>Parallel software is specifically intended for parallel hardware with multiple cores, threads, etc.</li><li>In most cases, serial programs run on modern computers &quot;waste&quot; potential computing power.</li></ul></li><li>Increase security. Each task can be isolated in a different process, so debug and check the security, even finishing it when it&#39;s not working properly, can be done without hanging the whole system.</li></ul><p>Historically, parallel computing has been considered to be &quot;the high end of computing&quot;, and has been used to model difficult problems in many areas of science and engineering. Today, commercial applications provide an equal or greater driving force in the development of faster computers. These applications require the processing of large amounts of data in sophisticated ways. For example:</p><p>New hardware environments can be classified in terms of:</p><ul><li>Microprocessor with many cores sharing system memory.</li><li>Multiprocessor systems with shared memory</li><li>Distributed systems and cloud services.</li></ul><h3 id="process-communication-and-synchronization" tabindex="-1">Process communication and synchronization</h3><p>The concurrent running of many processes may suppose the collaboration of some of them in order to complete a common task, while there can also be competing for system resources.</p><p>In both cases it is compulsory to add communication and synchronization techniques for the processes.</p><div class="custom-container info"><p class="custom-container-title">Concurrent programming</p><p>Concurrent programming and PSP is just about that, the knowledge of these <strong>communication and synchronization techniques</strong>.</p></div><p>When thinking about the way a process can communicate with each other, three are two main options:</p><ul><li>Message passing: It&#39;s commonly used when processes are running on different devices. They exchange information following a protocol previously set and agreed by the parts.</li><li>Shared resources / memory: It&#39;s only available when both processes are running on the same device and allows process synchronization based on a shared resource value or state.</li></ul><p>También podemos ver el tipo de comunicación en función de la sincronía que mantengan los procesos durante la comunicación:</p><ul><li>Synchronous communication happens when messages can only be exchanged in real time. It requires that the transmitter and receiver are present in the same time and/or space. Sender is blocked until receiver gets the message. Both processes are synchronized at the reception time. <ul><li>Examples of synchronous communication are phone calls or video meetings.</li></ul></li><li>Asynchronous communication happens when information can be exchanged independent of time. It doesn’t require the recipient’s immediate attention, allowing them to respond to the message at their convenience. Sender continues with it processing just after delivering the message to the receiver, not being blocked. <ul><li>Examples of asynchronous communication are emails, online forums, and collaborative documents.</li></ul></li></ul><h2 id="_1-1-3-services-and-threads" tabindex="-1">1.1.3. Services and threads</h2><p>A program, as previously said, is a group of sentences (actions and checks) and a running workflow. The workflow line determines the execution order for the sentences, with dependency of the program structure and it&#39;s data.</p><p>Based on the number of workflow lines a program can have, processes are classified in terms of::</p><ul><li>Sequential: The have only one control workflow (monothread)</li><li>Concurrent: They have multiple control workflows (multithread).</li></ul><h3 id="sequential-program-von-newmann-architecture" tabindex="-1">Sequential program (Von Newmann architecture)</h3><p>The classical von Neumann model of computation4 is a familiar model of sequential behavior. According to this, when we start learning to code we learn the classical way, following Von Neummann&#39;s conceptual model.</p><p>Sequential programs have a single workflow line. instructions on these applications are strictly sorted as a lineal time sequence.</p><p>The program&#39;s behavior is a function of the kind of instructions it is made of and the order they are run (set by its input data)</p><p>In sequential programs the time every sentence takes to complete has no consequences on the final result.</p><p><img src="/psp_pages/assets/img/sequential_flowchart.c0001b8c.png" alt="Sequential flowchat example"></p><p>The way to test a sequential program (<code>verify</code> or <code>debug</code>) is so easy:</p><ul><li>Every sentence gives the right output.</li><li>The sentences are executed in the expected order.</li></ul><p>That&#39;s the basis of many basic test methods, as the &quot;white-box&quot; model.</p><h3 id="concurrent-program" tabindex="-1">Concurrent program</h3><p>In concurrent programs there are many workflow lines. The sentences are not run following the same order as in a sequential program the would do.</p><p>In concurrent programs sequential order between sentences is still relevant. Nevertheless, in concurrent programs the order is only partial while in sequential programs the order is strict.</p><p><img src="/psp_pages/assets/img/concurrent_flowchart.6ef70ab4.png" alt="Concurrent flowchat example"></p><p>In concurrent programs the <em>sequencing</em> for concurrent processes is called <strong>synchronization</strong>.</p><p>The partial order implies that concurrent programs does not have to be deterministic, that is, the application results with the same input data will not always be equal.</p><div class="custom-container danger"><p class="custom-container-title">Indeterminism</p><p>Having different outputs for the same inputs does not means that a concurrent program has any bug or malfunction.</p></div><p>Look at the following pseudo code example</p><div class="language-java ext-java line-numbers-mode"><pre class="shiki" style="background-color:#FAFAFA;"><code><span class="line"><span style="color:#9C3EDA;">public</span><span style="color:#90A4AE;"> </span><span style="color:#9C3EDA;">class</span><span style="color:#90A4AE;"> </span><span style="color:#E2931D;">TestClass</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">{</span></span>
<span class="line"><span style="color:#90A4AE;">    </span><span style="color:#9C3EDA;">int</span><span style="color:#90A4AE;"> x</span><span style="color:#39ADB5;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#90A4AE;">    </span><span style="color:#9C3EDA;">public</span><span style="color:#90A4AE;"> </span><span style="color:#9C3EDA;">void</span><span style="color:#90A4AE;"> </span><span style="color:#6182B8;">testMethod1</span><span style="color:#39ADB5;">()</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">{</span></span>
<span class="line"><span style="color:#90A4AE;">        </span><span style="color:#39ADB5;font-style:italic;">for</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">(</span><span style="color:#9C3EDA;">int</span><span style="color:#90A4AE;"> i</span><span style="color:#39ADB5;">=</span><span style="color:#F76D47;">1</span><span style="color:#39ADB5;">;</span><span style="color:#90A4AE;"> i </span><span style="color:#39ADB5;">&lt;=</span><span style="color:#90A4AE;"> </span><span style="color:#F76D47;">5</span><span style="color:#39ADB5;">;</span><span style="color:#90A4AE;"> i</span><span style="color:#39ADB5;">++)</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">{</span></span>
<span class="line"><span style="color:#90A4AE;">            x</span><span style="color:#39ADB5;">++;</span></span>
<span class="line"><span style="color:#90A4AE;">        </span><span style="color:#39ADB5;">}</span></span>
<span class="line"><span style="color:#90A4AE;">    </span><span style="color:#39ADB5;">}</span></span>
<span class="line"><span style="color:#90A4AE;">    </span><span style="color:#9C3EDA;">public</span><span style="color:#90A4AE;"> </span><span style="color:#9C3EDA;">void</span><span style="color:#90A4AE;"> </span><span style="color:#6182B8;">testMethod2</span><span style="color:#39ADB5;">()</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">{</span></span>
<span class="line"><span style="color:#90A4AE;">        </span><span style="color:#39ADB5;font-style:italic;">for</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">(</span><span style="color:#9C3EDA;">int</span><span style="color:#90A4AE;"> j</span><span style="color:#39ADB5;">=</span><span style="color:#F76D47;">1</span><span style="color:#39ADB5;">;</span><span style="color:#90A4AE;"> j </span><span style="color:#39ADB5;">&lt;=</span><span style="color:#90A4AE;"> </span><span style="color:#F76D47;">5</span><span style="color:#39ADB5;">;</span><span style="color:#90A4AE;"> j</span><span style="color:#39ADB5;">++)</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">{</span></span>
<span class="line"><span style="color:#90A4AE;">            x</span><span style="color:#39ADB5;">++;</span></span>
<span class="line"><span style="color:#90A4AE;">        </span><span style="color:#39ADB5;">}</span></span>
<span class="line"><span style="color:#90A4AE;">    </span><span style="color:#39ADB5;">}</span></span>
<span class="line"><span style="color:#90A4AE;">    </span><span style="color:#9C3EDA;">public</span><span style="color:#90A4AE;"> </span><span style="color:#9C3EDA;">void</span><span style="color:#90A4AE;"> </span><span style="color:#6182B8;">sequential</span><span style="color:#39ADB5;">()</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">{</span></span>
<span class="line"><span style="color:#90A4AE;">        x </span><span style="color:#39ADB5;">=</span><span style="color:#90A4AE;"> </span><span style="color:#F76D47;">0</span><span style="color:#39ADB5;">;</span></span>
<span class="line"><span style="color:#90A4AE;">        </span><span style="color:#6182B8;">testMethod1</span><span style="color:#39ADB5;">();</span></span>
<span class="line"><span style="color:#90A4AE;">        </span><span style="color:#6182B8;">testMethod2</span><span style="color:#39ADB5;">();</span></span>
<span class="line"><span style="color:#90A4AE;">        System</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">out</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">println</span><span style="color:#39ADB5;">(</span><span style="color:#90A4AE;">x</span><span style="color:#39ADB5;">);</span></span>
<span class="line"><span style="color:#90A4AE;">    </span><span style="color:#39ADB5;">}</span></span>
<span class="line"><span style="color:#90A4AE;">    </span><span style="color:#9C3EDA;">public</span><span style="color:#90A4AE;"> </span><span style="color:#9C3EDA;">void</span><span style="color:#90A4AE;"> </span><span style="color:#6182B8;">parallel</span><span style="color:#39ADB5;">()</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">{</span></span>
<span class="line"><span style="color:#90A4AE;">        x </span><span style="color:#39ADB5;">=</span><span style="color:#90A4AE;"> </span><span style="color:#F76D47;">0</span><span style="color:#39ADB5;">;</span></span>
<span class="line"><span style="color:#39ADB5;">        </span><span style="color:#90A4AE;font-style:italic;">// cobegin-coend means that both methods are run simultaneously</span></span>
<span class="line"><span style="color:#39ADB5;">        </span><span style="color:#90A4AE;font-style:italic;">// These sentences doesn&#39;t exist in Java. They are used for </span></span>
<span class="line"><span style="color:#39ADB5;">        </span><span style="color:#90A4AE;font-style:italic;">// sample purposes</span></span>
<span class="line"><span style="color:#90A4AE;">        cobegin</span></span>
<span class="line"><span style="color:#90A4AE;">            </span><span style="color:#6182B8;">testMethod1</span><span style="color:#39ADB5;">();</span></span>
<span class="line"><span style="color:#90A4AE;">            </span><span style="color:#6182B8;">testMethod2</span><span style="color:#39ADB5;">();</span></span>
<span class="line"><span style="color:#90A4AE;">        coend</span></span>
<span class="line"><span style="color:#90A4AE;">        System</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">out</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">println</span><span style="color:#39ADB5;">(</span><span style="color:#90A4AE;">x</span><span style="color:#39ADB5;">);</span></span>
<span class="line"><span style="color:#90A4AE;">    </span><span style="color:#39ADB5;">}</span></span>
<span class="line"><span style="color:#39ADB5;">}</span></span>
<span class="line"></span></code></pre><div class="highlight-lines"><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><div class="highlight-line"> </div><div class="highlight-line"> </div><br><br><br><br><br><br><br><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><br><br><br></div><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br></div></div><div class="custom-container question"><p>¿Which is the value for variable x after sequential method is run?</p><p>¿Which is the value for variable x after parallel method is run?</p></div><div class="custom-container info"><p class="custom-container-title">Historical review</p><p>The nature and models of interaction between processes of a concurrent program were studied and described by <strong>Dijkstra</strong> (1968), Brinch <strong>Hansen</strong> (1973) and <strong>Hoare</strong> (1974).</p><p>The academic study of concurrent algorithms started in the 1960s and they are the foundation for multiprocess operating systems in the 70&#39;s and 80&#39;s.</p></div><p>Concurrent programs inherent indeterminism makes its analysis and validation more complex. However, to test a concurrent program (<code>verify</code> or <code>debug</code>) the same techniques as for sequential ones are needed, adding these new ones:</p><ul><li>Sentences can be validated individually only if the are not engaged to shared variables.</li><li>If shared variables are used there can be many interference effects for concurrent sentences and testing can also become very difficult. <span class="badge danger" style="vertical-align:middle;"><!--[-->warning<!--]--></span></li><li>Only when sequencing between tasks is made by using explicit <strong>synchronization</strong> sentences, time is not relevant on the result.</li></ul><div class="custom-container warning"><p class="custom-container-title">Important</p><p>Three previous topics described above are the basis of concurrent programming.</p><p>👁️ To know them, to understand them and to apply them in the right way is all about what we are gonna learn all this course.</p></div><h3 id="threads-vs-processes" tabindex="-1">Threads vs processes</h3><p>A thread is the unit of execution within a process. A thread is just one of the workflow lines a concurrent process can have. A process is a heavyweight running unit.</p><p>A process can have anywhere from just one thread (the main thread) to many threads. If a process has more than one thread, every thread is a lightweight running unit.</p><table><thead><tr><th style="text-align:left;">Procesos</th><th style="text-align:left;">Hilos</th></tr></thead><tbody><tr><td style="text-align:left;">Have more than one thread</td><td style="text-align:left;">A thread always exists within a process</td></tr><tr><td style="text-align:left;">They are independent from others</td><td style="text-align:left;">They share the process resources</td></tr><tr><td style="text-align:left;">The OS manages them</td><td style="text-align:left;">The process manages them</td></tr><tr><td style="text-align:left;">they can communicate on the OSO</td><td style="text-align:left;">The process manages their communication</td></tr></tbody></table><p><img src="/psp_pages/assets/img/threads_vs_process.c991e111.jpg" alt="Threads vs Processes"></p><p>In the above image you can see the relationship in the way a thread is created and its related process.</p><ul><li>The process resides in its memory address space. Threads share that memory area. In the process&#39;s address space every thread has its reserved area, but all of them can share the process&#39;s global memory and his open resources (files, sockets, etc.)..</li><li>We have already described a process PCD with the process information..</li><li>In a similar way, have their TCB (Thread Control Block) where the threads store their specific information (program counter, stack pointer, thread status, registers and a PCB pointer).</li></ul><div class="custom-container info"><p class="custom-container-title">Services</p><p>A service is a process commonly started during OS boot. As it does not need user interaction services are run as <strong>daemons</strong> run in <em>background mode</em>.</p><p>They are called services because once started they are waiting for a process to ask them to do a taks. As they have to manage request from several processes they usually are multithread programs.</p></div><!--]--></div><footer class="page-meta"><div class="meta-item edit-link"><a class="nav-link external meta-item-label" href="https://github.com/psp2dam/apuntes_psp/edit/master/docs/en/unit1/process.md" rel="noopener noreferrer" target="_blank" aria-label="Help us improve this page on GitHub!"><!--[--><!--]--> Help us improve this page on GitHub! <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">Open in new window</span><!--]--></span><!--[--><!--]--></a></div><div class="meta-item last-updated"><span class="meta-item-label">Last updated: : </span><span class="meta-item-info">9/12/2021, 11:47:16 AM</span></div><div class="meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: vicente@iesdoctorbalmis.com">Vicente Martínez</span><!----><!--]--><!--]--></span></div></footer><nav class="page-nav"><p class="inner"><span class="prev"> ← <a href="/psp_pages/en/unit1/" class="nav-link router-link-active" aria-label="1 Introduction"><!--[--><!--]--> 1 Introduction <!--[--><!--]--></a></span><span class="next"><a href="/psp_pages/en/unit1/concurrency.html" class="nav-link" aria-label="1.2 Concurrency"><!--[--><!--]--> 1.2 Concurrency <!--[--><!--]--></a> → </span></p></nav><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script src="/psp_pages/assets/js/runtime~app.8dbcdb2a.js" defer></script><script src="/psp_pages/assets/js/812.63785eb3.js" defer></script><script src="/psp_pages/assets/js/app.e91e9b90.js" defer></script>
  </body>
</html>
